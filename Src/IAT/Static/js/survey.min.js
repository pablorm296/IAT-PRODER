function checkInput(){const e=[0,1,6,7],a=["srvy_age","srvy_sex","srvy_lab","srvy_contry","srvy_state","srvy_zip","srvy_iat","srvy_hand"];var r=[],s=0;for(let e=0;e<a.length;e++){const s=a[e];r.push($(`#${s}`))}for(let o=0;o<e.length;o++){const l=e[o],t=r[l],n=a[l],i=t.val();""==i||"NONE"==i?(s+=1,$(`#${n}_label`).removeClass("input_label"),$(`#${n}_label`).addClass("input_label_error"),$(`#${n}_label_rm`).removeClass("required_mark"),$(`#${n}_label_rm`).addClass("required_mark_error")):($(`#${n}_label`).removeClass("input_label_error"),$(`#${n}_label_rm`).removeClass("required_mark_error"))}return""==grecaptcha.getResponse()?($("#srvy_captcha_label").removeClass("input_label"),$("#srvy_captcha_label").addClass("input_label_error"),$("#srvy_captcha_label_rm").removeClass("required_mark"),$("#srvy_captcha_label_rm").addClass("required_mark_error")):($("#srvy_captcha_label").removeClass("input_label_error"),$("#srvy_captcha_label").addClass("input_label"),$("#srvy_captcha_label_rm").removeClass("required_mark_error"),$("#srvy_captcha_label_rm").addClass("required_mark")),s>0?(alert("Por favor, contesta todas las preguntas obligatorias (marcadas con un asterisco). Hemos marcado en rojo las que olvidaste"),!1):(saveResults(),!0)}function saveResults(){var e={};const a=$("input").toArray(),r=$("select").toArray(),s=[].concat(a,r);for(let a=0;a<s.length;a++){const r=s[a],t=r.id;var o=r.value;if("SELECT"==r.tagName){if((o>100||o<1)&&"NONE"!=o)throw alert("Algunos campos tienen valores inesperados. ¿Estás modificándo los campos con la consola de desarrollador? Si no es así, reporta este error al administrador, por favor"),{name:"spoofedValueError",message:"Unexpected field value. Please, stop using dev console to change user input values."};e[t]=o}if("INPUT"==r.tagName){if("tel"==r.type){const e=new RegExp(/(\D+)/gi),a=e.exec(o);if(null!=a)throw alert("Algunos campos tienen valores inesperados. ¿Estás modificándo los campos con la consola de desarrollador? Si no es así, reporta este error al administrador, por favor"),{name:"spoofedValueError",message:"Unexpected field value. Please, stop using dev console to change user input values."};""===o&&(o="NONE")}if("text"==r.type){const e=new RegExp(/[\{\}\*\_\$\%\<\>\#\|\&\?\!\¡\¿\[\]]+/gi),a=e.exec(o);if(null!=a)throw alert("Algunos campos tienen valores inesperados. ¿Estás modificándo los campos con la consola de desarrollador? Si no es así, reporta este error al administrador, por favor"),{name:"spoofedValueError",message:"Unexpected field value. Please, stop using dev console to change user input values."};""===o&&(o="NONE")}if("radio"==r.type){const a=r.name;if(e.hasOwnProperty(a))continue;var l=$(`input[name=${a}]:checked`).val();void 0===l&&(l="NONE"),e[a]=l;continue}e[t]=o}}var t=grecaptcha.getResponse();t=btoa(t),t=btoa(t),e.g=t,myAPI.endpoints.POST_survey(e)}function okBtn(){checkInput()&&(window.location.href="/results")}function setBtns(){$("#OkButton").click(okBtn)}function onlyNumeric(){const e=this.id,a=$(`#${e}`).val(),r=new RegExp(/(\D+)/gi),s=r.exec(a);null!=s?($(`#${e}`).val(""),$(`#${e}_wi`).text("¡Sólo se admiten valores numéricos!"),$(`#${e}_wi`).show()):($(`#${e}_wi`).text(""),$(`#${e}_wi`).hide())}function onlyGoodCharacters(){const e=this.id,a=$(`#${e}`).val(),r=new RegExp(/[\{\}\*\_\$\%\<\>\#\|\&\?\!\¡\¿\[\]]+/gi),s=r.exec(a);null!=s?($(`#${e}`).val(""),$(`#${e}_wi`).text("¡Ingresaste uno o más caracteres inválidos!"),$(`#${e}_wi`).show()):($(`#${e}_wi`).text(""),$(`#${e}_wi`).hide())}function setChecks(){$("#srvy_age").on("change",onlyNumeric),$("#srvy_zip").on("change",onlyNumeric),$("#srvy_col").on("change",onlyGoodCharacters)}var myAPI;$(document).ready(function(){setBtns(),setChecks()});