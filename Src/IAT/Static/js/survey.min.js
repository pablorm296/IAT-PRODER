function checkInput(){const e=[0,1,7,8],r=["srvy_age","srvy_sex","srvy_household","srvy_contry","srvy_state","srvy_zip","srvy_col","srvy_iat","srvy_hand"],s=["srvy_household_stove","srvy_household_frigo","srvy_household_internet","srvy_household_washer","srvy_household_console","srvy_household_microwave","srvy_household_toster","srvy_household_blender"];var a=[],o=0;for(let e=0;e<r.length;e++){const s=r[e];a.push($(`#${s}`))}for(let s=0;s<e.length;s++){const l=e[s],t=a[l],n=r[l],i=t.val();""==i||"NONE"==i?(o+=1,$(`#${n}_label`).removeClass("input_label"),$(`#${n}_label`).addClass("input_label_error"),$(`#${n}_label_rm`).removeClass("required_mark"),$(`#${n}_label_rm`).addClass("required_mark_error")):($(`#${n}_label`).removeClass("input_label_error"),$(`#${n}_label_rm`).removeClass("required_mark_error"))}for(let e=0;e<s.length;e++){const r=s[e],a=$(`input[name=${r}]:checked`).val();a?($("#srvy_household_label").removeClass("input_label_error"),$("#srvy_household_label").addClass("input_label"),$("#srvy_household_label_rm").removeClass("required_mark_error"),$("#srvy_household_label_rm").addClass("required_mark")):($("#srvy_household_label").removeClass("input_label"),$("#srvy_household_label").addClass("input_label_error"),$("#srvy_household_label_rm").removeClass("required_mark"),$("#srvy_household_label_rm").addClass("required_mark_error"))}return""==grecaptcha.getResponse()?($("#srvy_captcha_label").removeClass("input_label"),$("#srvy_captcha_label").addClass("input_label_error"),$("#srvy_captcha_label_rm").removeClass("required_mark"),$("#srvy_captcha_label_rm").addClass("required_mark_error")):($("#srvy_captcha_label").removeClass("input_label_error"),$("#srvy_captcha_label").addClass("input_label"),$("#srvy_captcha_label_rm").removeClass("required_mark_error"),$("#srvy_captcha_label_rm").addClass("required_mark")),!(o>0)||(alert("Por favor, contesta todas las preguntas obligatorias (marcadas con un asterisco). Hemos marcado en rojo las que olvidaste"),!1)}function saveResults(){var e={};const r=$("input").toArray(),s=$("select").toArray(),a=[].concat(r,s);for(let r=0;r<a.length;r++){const s=a[r],t=s.id;var o=s.value;if("SELECT"==s.tagName){if((o>100||o<1)&&"NONE"!=o)throw alert("Algunos campos tienen valores inesperados. ¿Estás modificándo los campos con la consola de desarrollador? Si no es así, reporta este error al administrador, por favor"),{name:"spoofedValueError",message:"Unexpected field value. Please, stop using dev console to change user input values."};e[t]=o}if("INPUT"==s.tagName){if("tel"==s.type){const e=new RegExp(/(\D+)/gi),r=e.exec(o);if(null!=r)throw alert("Algunos campos tienen valores inesperados. ¿Estás modificándo los campos con la consola de desarrollador? Si no es así, reporta este error al administrador, por favor"),{name:"spoofedValueError",message:"Unexpected field value. Please, stop using dev console to change user input values."};""===o&&(o="NONE")}if("text"==s.type){const e=new RegExp(/[\{\}\*\_\$\%\<\>\#\|\&\?\!\¡\¿\[\]]+/gi),r=e.exec(o);if(null!=r)throw alert("Algunos campos tienen valores inesperados. ¿Estás modificándo los campos con la consola de desarrollador? Si no es así, reporta este error al administrador, por favor"),{name:"spoofedValueError",message:"Unexpected field value. Please, stop using dev console to change user input values."};""===o&&(o="NONE")}if("radio"==s.type){const r=s.name;if(e.hasOwnProperty(r))continue;var l=$(`input[name=${r}]:checked`).val();void 0===l&&(l="NONE"),e[r]=l;continue}e[t]=o}}const t=grecaptcha.getResponse();if(""===t)throw alert("Parece que estás intentando saltarte la verificación de reCaptcha. Si no es así, reporta este error al administrador"),{name:"spoofedValueError",message:"Empty reCaptcha. Please, stop using dev console to change user input values."};e.g=t,console.log(e),myAPI.endPoints.POST_survey(e,function(){window.location.href="/results"})}function okBtn(){checkInput()&&saveResults()}function setBtns(){$("#OkButton").click(okBtn)}function onlyNumeric(){const e=this.id,r=$(`#${e}`).val(),s=new RegExp(/(\D+)/gi),a=s.exec(r);null!=a?($(`#${e}`).val(""),$(`#${e}_wi`).text("¡Sólo se admiten valores numéricos!"),$(`#${e}_wi`).show()):($(`#${e}_wi`).text(""),$(`#${e}_wi`).hide())}function onlyGoodCharacters(){const e=this.id,r=$(`#${e}`).val(),s=new RegExp(/[\{\}\*\_\$\%\<\>\#\|\&\?\!\¡\¿\[\]]+/gi),a=s.exec(r);null!=a?($(`#${e}`).val(""),$(`#${e}_wi`).text("¡Ingresaste uno o más caracteres inválidos!"),$(`#${e}_wi`).show()):($(`#${e}_wi`).text(""),$(`#${e}_wi`).hide())}function setChecks(){$("#srvy_age").on("change",onlyNumeric),$("#srvy_zip").on("change",onlyNumeric),$("#srvy_col").on("change",onlyGoodCharacters)}var myAPI;$(document).ready(function(){setBtns(),setChecks()});