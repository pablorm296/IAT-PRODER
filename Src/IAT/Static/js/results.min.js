function binData(e){var t=new Array,a=e.length,r=Math.round(Math.sqrt(a));r=r>50?50:r;for(var s,n,i=Math.max.apply(null,e),o=Math.min.apply(null,e),l=i-o,c=l/r,_=0;_<r;_++){s=o+_*c,n=s+c,t[_]||(t[_]=new Array,t[_][0]=s+c/2);for(var u=0;u<a;u++){var p=e[u];0==_&&0==u?s-=1:s=s,p>s&&p<=n&&(t[_][1]?t[_][1]++:t[_][1]=1)}}return $.each(t,function(e,a){void 0===a[1]&&(t[e][1]=0)}),t}function okBtn(){window.location.href="/bye"}function drawPlots(){Highcharts.chart("resultHist",{plotOptions:{column:{pointPadding:0,borderWidth:0,groupPadding:0,shadow:!1}},chart:{type:"column"},tooltip:{enabled:!1},title:{text:"¿Cómo se compara mi resultado con el de otros participantes?",style:{"font-family":"KC"}},legend:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},xAxis:[{labels:{formatter:function(){var e={0:"0<br>Sin preferencia",1:"1<br>Preferencia por piel blanca","-1":"-1<br>Preferencia por piel morena"},t=e[this.value];return"undefined"!==t?t:this.value}},plotLines:[{color:"#FF0000",width:2,zIndex:99,value:__iatScore}],title:{text:"Puntaje IAT"},alignTicks:!0}],yAxis:[{title:{text:"Frecuencia"}}],series:[{name:"Distribuciónde puntajes IAT",data:__histDScore}]})}function loadResults(e){const t=e.iatScore,a=e.fastestLatency,r=e.slowestLatency,s=e.meanLatency,n=e.errorCount,i=e.fastestLatency_g,o=e.slowestLatency_g,l=e.meanLatency_g,c=e.dScores;null!=e&&null!=t||e2Handler();const _=binData(c);__histDScore=_,__iatScore=t,$("#result_iat_score").text(t),$("#stat_mean_latency").text(s+" ms"),$("#stat_min_latency").text(a+" ms"),$("#stat_max_latency").text(r+" ms"),$("#stat_errors").text(n+" errores"),$("#stat_mean_latency_group").text(l+" ms"),$("#stat_min_latency_group").text(i+" ms"),$("#stat_max_latency_group").text(o+" ms"),$("#stat_errors_group").text("-"),t<.2&&t>-.2&&($("#result_preference_size").text("no tienes preferencia (sesgo)"),$("#result_preference_target").text("las personas de piel oscura o piel clara")),t>=.2&&($("#result_preference_size").text("tienes una ligera preferencia (sesgo)"),$("#result_preference_target").text("las personas de piel clara")),t<=-.2&&($("#result_preference_size").text("tienes una ligera preferencia (sesgo)"),$("#result_preference_target").text("las personas de piel morena")),t>=.5&&($("#result_preference_size").text("tienes una moderada preferencia (sesgo)"),$("#result_preference_target").text("las personas de piel clara")),t>=.8&&($("#result_preference_size").text("tienes una fuerte preferencia"),$("#result_preference_target").text("las personas de piel clara")),t<=-.5&&($("#result_preference_size").text("tienes una moderada preferencia"),$("#result_preference_target").text("las personas de piel oscura")),t<=-.8&&($("#result_preference_size").text("tienes una fuerte preferencia"),$("#result_preference_target").text("las personas de piel oscura")),drawPlots()}function e1Handler(){$("#main_results").html("<p>Nos fue imposible analizar tus respuestas :( Respondiste extremadamente rápido o al azar; esto dificulta el análisis estadístico que hacemos sobre los datos.</p>"),$("#result_iat_score").text("No disponible"),$("#stat_mean_latency").text("No disponible"),$("#stat_min_latency").text("No disponible"),$("#stat_max_latency").text("No disponible"),$("#stat_errors").text("No disponible"),$("#results_content").hide()}function e2Handler(){$("#main_results").html("<p>Nos fue imposible analizar tus respuestas :( Ocurrió un error al intentar leer las cookies. ¿Usas algún bloqueador?</p>"),$("#result_iat_score").text("No disponible"),$("#stat_mean_latency").text("No disponible"),$("#stat_min_latency").text("No disponible"),$("#stat_max_latency").text("No disponible"),$("#stat_errors").text("No disponible"),$("#results_content").hide()}function getResults(){const e=__ResultsData,t=__ResultsData.code;"e.1"==t?e1Handler():loadResults(e)}function setBtns(){$("#InfoButton").click(okBtn)}var __iatScore,__histDScore;$(document).ready(function(){setBtns(),getResults()});