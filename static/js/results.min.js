function binData(e){var t=new Array,r=e.length,a=Math.round(Math.sqrt(r));a=a>50?50:a;for(var n,s,i=Math.max.apply(null,e),o=Math.min.apply(null,e),l=i-o,c=l/a,u=0;u<a;u++){n=o+u*c,s=n+c,t[u]||(t[u]=new Array,t[u][0]=n+c/2);for(var p=0;p<r;p++){var _=e[p];0==u&&0==p?n-=1:n=n,_>n&&_<=s&&(t[u][1]?t[u][1]++:t[u][1]=1)}}return $.each(t,function(e,r){void 0===r[1]&&(t[e][1]=0)}),t}function okBtn(){}function loadResults(){myAPI.endPoints.GET_results(function(e){const t=e.responseContent,r=t.iatScore,a=t.fastestLatency,n=t.slowestLatency,s=t.meanLatency,i=t.errorCount,o=t.dScores,l=binData(o);__iatScore=r,$("#result_iat_score").text(r),$("#stat_mean_latency").text(s+" ms"),$("#stat_min_latency").text(a+" ms"),$("#stat_max_latency").text(n+" ms"),$("#stat_errors").text(i+" errores"),r<=.2||r>=-.2?($("#result_preference_size").text("no tienes preferencia alguna"),$("#result_preference_target").text("las personas de piel oscura o piel clara")):r>=.5?($("#result_preference_size").text("tienes una ligera preferencia"),$("#result_preference_target").text("las personas de piel oscura")):r>=.8?($("#result_preference_size").text("tienes una fuerte preferencia"),$("#result_preference_target").text("las personas de piel oscura")):r<=-.5?($("#result_preference_size").text("tienes una ligera preferencia"),$("#result_preference_target").text("las personas de piel clara")):r<=-.8&&($("#result_preference_size").text("tienes una fuerte preferencia"),$("#result_preference_target").text("las personas de piel clara")),Highcharts.chart("resultHist",{plotOptions:{column:{pointPadding:0,borderWidth:0,groupPadding:0,shadow:!1}},chart:{type:"column"},title:{text:"¿Cómo se compara mi resultado con el de otros participantes?"},xAxis:[{plotLines:[{color:"#FF0000",width:2,zIndex:99,value:__iatScore}],title:{text:"Puntaje IAT"},alignTicks:!1}],yAxis:[{title:{text:"Frecuencia"}}],series:[{name:"Distribution",data:l}]})})}function setBtns(){$("#OkButton").click(okBtn)}var __iatScore;$(document).ready(function(){setBtns(),myAPI=new iatAPI,loadResults()});