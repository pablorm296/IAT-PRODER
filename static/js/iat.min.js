function randomInt(l,e){return l=Math.ceil(l),e=Math.floor(e),Math.floor(Math.random()*(e-l+1))+l}function keyHandler(l,e=!1,t){var i;window.event?i=l.keyCode:l.which&&(i=l.which);var r=String.fromCharCode(i);if(" "===r&&(r="space"),e&&console.log("Key pressed:"+r),!t)return r;t(r)}function keyCallBack(l){if(__instructions)"space"==l&&(myAPI.endPoints.GET_stimuli(__stage),__instructions=!1);else{if("space"==l)return!1;"e"==l&&iatAnswer(l),"i"==l&&iatAnswer(l)}}function iatAnswer(l){const e=__trialCount+1,t=`#stimHolder_${e}`,i=$(t).attr("label");"e"==l?__left.includes(i)?(console.log("correcto"),__trialCount+=1,playIAT()):console.log("incorrecto"):__right.includes(i)?(console.log("correcto"),__trialCount+=1,playIAT()):console.log("incorrecto")}function showInstructions(){switch(__instructions=!0,__stage){case 1:1==__order?(__left=[__wrdLabel[__order]],__right=[__wrdLabel[__order-1]],$("#leftColTitle").children("span")[0].innerText=__wrdCart[__order],$("#rightColTitle").children("span")[0].innerText=__wrdCart[__order-1],$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[1].style.display="none",$("#rightColTitle").children("span")[1].style.display="none",$("#leftColTitle").children("span")[2].style.display="none",$("#rightColTitle").children("span")[2].style.display="none"):(__left=[__wrdLabel[__order]],__right=[__wrdLabel[__order+1]],$("#leftColTitle").children("span")[0].innerText=__wrdCart[__order],$("#rightColTitle").children("span")[0].innerText=__wrdCart[__order+1],$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[1].style.display="none",$("#rightColTitle").children("span")[1].style.display="none",$("#leftColTitle").children("span")[2].style.display="none",$("#rightColTitle").children("span")[2].style.display="none");break;case 2:1==__order?(__left=[__imgLabel[__order]],__right=[__imgLabel[__order-1]],$("#leftColTitle").children("span")[0].innerText=__imgCat[__order],$("#rightColTitle").children("span")[0].innerText=__imgCat[__order-1],$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[1].style.display="none",$("#rightColTitle").children("span")[1].style.display="none",$("#leftColTitle").children("span")[2].style.display="none",$("#rightColTitle").children("span")[2].style.display="none"):(__left=[__imgLabel[__order]],__right=[__imgLabel[__order+1]],$("#leftColTitle").children("span")[0].innerText=__imgCat[__order],$("#rightColTitle").children("span")[0].innerText=__imgCat[__order+1],$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[1].style.display="none",$("#rightColTitle").children("span")[1].style.display="none",$("#leftColTitle").children("span")[2].style.display="none",$("#rightColTitle").children("span")[2].style.display="none");break;case 3:case 4:1==__order?(__left=[__imgLabel[__order],__wrdLabel[__order]],__right=[__imgLabel[__order-1],__wrdLabel[__order-1]],$("#leftColTitle").children("span")[0].innerText=__imgCat[__order],$("#rightColTitle").children("span")[0].innerText=__imgCat[__order-1],$("#leftColTitle").children("span")[2].innerText=__wrdCart[__order],$("#rightColTitle").children("span")[2].innerText=__wrdCart[__order-1],$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[1].style.display="block",$("#rightColTitle").children("span")[1].style.display="block",$("#leftColTitle").children("span")[2].style.display="block",$("#rightColTitle").children("span")[2].style.display="block"):(__left=[__imgLabel[__order],__wrdLabel[__order]],__right=[__imgLabel[__order-1],__wrdLabel[__order+1]],$("#leftColTitle").children("span")[0].innerText=__imgCat[__order],$("#rightColTitle").children("span")[0].innerText=__imgCat[__order+1],$("#leftColTitle").children("span")[2].innerText=__wrdCart[__order],$("#rightColTitle").children("span")[2].innerText=__wrdCart[__order+1],$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[1].style.display="block",$("#rightColTitle").children("span")[1].style.display="block",$("#leftColTitle").children("span")[2].style.display="block",$("#rightColTitle").children("span")[2].style.display="block");break;case 5:1==__order?(__right=[__wrdLabel[__order]],__left=[__wrdLabel[__order-1]],$("#rightColTitle").children("span")[0].innerText=__wrdCart[__order],$("#leftColTitle").children("span")[0].innerText=__wrdCart[__order-1],$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[1].style.display="none",$("#leftColTitle").children("span")[1].style.display="none",$("#rightColTitle").children("span")[2].style.display="none",$("#leftColTitle").children("span")[2].style.display="none"):(__right=[__wrdLabel[__order]],__left=[__wrdLabel[__order+1]],$("#rightColTitle").children("span")[0].innerText=__wrdCart[__order],$("#leftColTitle").children("span")[0].innerText=__wrdCart[__order+1],$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[1].style.display="none",$("#leftColTitle").children("span")[1].style.display="none",$("#rightColTitle").children("span")[2].style.display="none",$("#leftColTitle").children("span")[2].style.display="none");break;case 6:case 7:1==__order?(__right=[__imgLabel[__order],__wrdLabel[__order]],__left=[__imgLabel[__order-1],__wrdLabel[__order-1]],$("#rightColTitle").children("span")[0].innerText=__imgCat[__order],$("#leftColTitle").children("span")[0].innerText=__imgCat[__order-1],$("#rightColTitle").children("span")[2].innerText=__wrdCart[__order],$("#leftColTitle").children("span")[2].innerText=__wrdCart[__order-1],$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[1].style.display="block",$("#leftColTitle").children("span")[1].style.display="block",$("#rightColTitle").children("span")[2].style.display="block",$("#leftColTitle").children("span")[2].style.display="block"):(__right=[__imgLabel[__order],__wrdLabel[__order]],__left=[__imgLabel[__order-1],__wrdLabel[__order+1]],$("#rightColTitle").children("span")[0].innerText=__imgCat[__order],$("#leftColTitle").children("span")[0].innerText=__imgCat[__order+1],$("#rightColTitle").children("span")[2].innerText=__wrdCart[__order],$("#leftColTitle").children("span")[2].innerText=__wrdCart[__order+1],$("#rightColTitle").children("span")[0].style.display="block",$("#leftColTitle").children("span")[0].style.display="block",$("#rightColTitle").children("span")[1].style.display="block",$("#leftColTitle").children("span")[1].style.display="block",$("#rightColTitle").children("span")[2].style.display="block",$("#leftColTitle").children("span")[2].style.display="block")}}function placeStimuli(l){__stageLength=l.length;for(let e=0;e<l.length;e++){const t=e+1,i=`#stimHolder_${t}`,r=l[e],n=r.type,_=r.label,o=r.content;console.log(i),$(i).hide(),"img"==n?($(i).html(`<img src='../imgs/stimuli/${o}.jpg'>`),$(i).attr("label",_)):($(i).html(o),$(i).attr("label",_)),$(".stimuli").imagesLoaded(function(){$("#loader").hide(),__trialCount=0,playIAT()})}}function playIAT(){const l=__trialCount+1;__trialCount<__stageLength?(0!=__trialCount&&$(`#stimHolder_${l-1}`).hide(),$(`#stimHolder_${l}`).show(),__trialStart=new Date):($(`#stimHolder_${l-1}`).hide(),__stage+=1,IATloop())}function IATloop(){$("#loader").hide(),__stage>7||1==__stage&&(__order=randomInt(0,1)),showInstructions()}var __order,__trialCount,__stageLength,__trialStart,__left,__right,myAPI,__stage=1,__imgCat=["Piel clara","Piel oscura"],__wrdCart=["Bueno","Malo"],__imgLabel=["white","dark"],__wrdLabel=["good","bad"],__instructions=!1;$(document).ready(function(){IATloop(),$(document).keypress(function(l){l.preventDefault(),keyHandler(l,!0,keyCallBack)})});